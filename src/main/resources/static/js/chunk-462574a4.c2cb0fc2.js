(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-462574a4"],{"03d4":function(t,e,a){"use strict";e["a"]={id:0,userId:"",tableId:0,orderNum:"",price:0,realPrice:0,discountPrice:0,payType:0,status:1,createTime:"",updateTime:"",createBy:"",list:[]}},"12ad":function(t,e,a){},"32a6":function(t,e,a){"use strict";var o=a("12ad"),s=a.n(o);s.a},"45a7":function(t,e,a){"use strict";e["a"]={categoryId:0,createBy:"",createTime:"",discountPrice:0,id:0,name:"",price:0,remark:"",sales:0,sort:0,status:1,type:1,updateTime:""}},"8af6":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content "},[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelect}},t._l(this.categorys,(function(e,o){return a("el-menu-item",{key:o,attrs:{index:o+""}},[a("el-tag",{staticStyle:{"font-size":"20px"},on:{click:function(a){return t.toPath(e)}}},[t._v(t._s(e.name))])],1)})),1)],1)]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content "},[a("el-tag",{staticStyle:{"font-size":"18px","margin-right":"20px"}},[t._v(t._s(this.orderVO.tableId)+"号")]),a("el-tag",{staticStyle:{"font-size":"18px","margin-right":"20px"}},[t._v("总价："+t._s(this.orderVO.price))]),a("el-button",{staticStyle:{"font-size":"18px","margin-left":"20px"},on:{click:function(e){return t.sumbmin()}}},[t._v("提交")])],1)])],1),a("el-table",{staticStyle:{width:"98%"},attrs:{data:t.foodTableData}},[a("el-table-column",{attrs:{width:"200",label:"菜名"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{staticStyle:{"font-size":"20px"}},[t._v(t._s(e.row.name))])]}}])}),a("el-table-column",{attrs:{width:"100",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("el-tag",{attrs:{size:"medium"}},[t._v("正常")]):t._e(),2==e.row.status?a("el-tag",{attrs:{size:"medium"}},[t._v("售完")]):t._e(),3==e.row.status?a("el-tag",{attrs:{size:"medium"}},[t._v("禁用")]):t._e()]}}])}),a("el-table-column",{attrs:{width:"100",label:"价格"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{staticStyle:{"font-size":"20px"}},[t._v(t._s(e.row.price))])]}}])}),a("el-table-column",{attrs:{width:"100",label:"总价"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{staticStyle:{"font-size":"20px"}},[t._v(t._s(e.row.allPreace))])]}}])}),a("el-table-column",{attrs:{width:"200",label:"备注"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{type:"textarea"},model:{value:e.row.remark,callback:function(a){t.$set(e.row,"remark",a)},expression:"scope.row.remark"}})]}}])}),a("el-table-column",{attrs:{width:"200",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{attrs:{min:0,max:100,label:"描述文字"},on:{change:function(a){return t.handleChange(e.row)}},model:{value:e.row.sales,callback:function(a){t.$set(e.row,"sales",a)},expression:"scope.row.sales"}})]}}])})],1)],1)},s=[],r=(a("7f7f"),a("365c"));a("45a7"),a("03d4");function l(){var t={id:0,orderId:0,footId:0,footName:"",num:0,status:1,price:0,realPrice:0,createTime:"",updateTime:"",createBy:""};return t}a("1b48");var i={data:function(){return{recoderPrice:0,tableData:{},orderVO:{},activeIndex:"",allFoods:[],foodTableData:[{id:7,categoryId:5,type:1,name:"98",sort:0,price:8,discountPrice:8,sales:0,remark:"",status:1,createTime:"2019-10-22 10:49:57",updateTime:"2019-10-22 10:49:57",createBy:"1"}],category:{},categorys:[]}},methods:{sumbmin:function(){var t=this;this.orderVO.list=[];for(var e=0,a=0;a<this.allFoods.length;a++)if(this.allFoods[a].sales>0){var o=l();o.footId=this.allFoods[a].id,o.footName=this.allFoods[a].name,o.num=this.allFoods[a].sales,o.remark=this.allFoods[a].remark,o.price=this.allFoods[a].price,console.log("orderVO："+this.orderVO.id),0!=this.orderVO.id&&(o.status=2),this.orderVO.list[e]=o,e++}Object(r["l"])(this.orderVO).then((function(e){console.log(JSON.stringify(e.data)),t.$router.push({name:"Order"})}))},toPath:function(t){this.category=t;var e=0;this.foodTableData=[];for(var a=0;a<this.allFoods.length;a++)console.log(this.allFoods[a].categoryId,this.category.id),this.allFoods[a].categoryId==this.category.id&&(null==this.allFoods[a].allPreace&&(this.allFoods[a].allPreace=0),this.foodTableData[e]=this.allFoods[a],e++)},getAllFood:function(){var t=this;Object(r["f"])({}).then((function(e){console.log(JSON.stringify(e.data)),t.allFoods=e.data,t.getAllCategorys()}))},getAllCategorys:function(){var t=this;Object(r["e"])({}).then((function(e){console.log(JSON.stringify(e)),console.log("状态吗："+e.data.code),201==e.data.code&&t.$router.push("/"),t.categorys=e.data,t.activeIndex="0",t.toPath(t.categorys[0])}))},handleSelect:function(t,e){console.log(t,"，，，"+e)},handleChange:function(t){console.log(t),t.allPreace=t.price*t.sales,this.counteAllPrice()},foodDel:function(t,e){console.log(t,e)},handleDate:function(t){return t.substring(0,10)},counteAllPrice:function(){this.orderVO.price=this.recoderPrice;for(var t=0;t<this.allFoods.length;t++)this.allFoods[t].sales>0&&(this.orderVO.price+=this.allFoods[t].sales*this.allFoods[t].price)}},created:function(){this.getAllFood(),this.$route.params&&(this.orderVO=this.$route.params.orderVO,this.recoderPrice=this.orderVO.realPrice)}},n=i,c=(a("32a6"),a("2877")),d=Object(c["a"])(n,o,s,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-462574a4.c2cb0fc2.js.map