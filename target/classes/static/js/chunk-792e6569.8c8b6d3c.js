(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-792e6569"],{"4a77":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",{attrs:{gutter:24,type:"justify"}},[r("el-col",{attrs:{span:2,push:16}},[r("el-button",{on:{click:function(t){return e.orderAdd()}}},[e._v("加菜")])],1),r("el-col",{attrs:{span:2,push:16}},[r("el-button",{on:{click:function(t){return e.payTheBill()}}},[e._v("买单")])],1),r("el-col",{attrs:{span:2,push:16}},[r("el-tag",[e._v(e._s(this.orderVO.price))])],1)],1),r("el-table",{staticStyle:{width:"98%"},attrs:{data:e.orderTableData}},[r("el-table-column",{attrs:{label:"菜名",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",[e._v(e._s(t.row.footName))])]}}])}),r("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?r("el-tag",{attrs:{size:"medium"}},[e._v("退菜")]):e._e(),1==t.row.status?r("el-tag",{attrs:{size:"medium"}},[e._v("准备")]):e._e(),2==t.row.status?r("el-tag",{attrs:{size:"medium"}},[e._v("加菜")]):e._e(),3==t.row.status?r("el-tag",{attrs:{size:"medium"}},[e._v("已上")]):e._e()]}}])}),r("el-table-column",{attrs:{label:"价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",[e._v(e._s(t.row.price))])]}}])}),r("el-table-column",{attrs:{label:"数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",[e._v(e._s(t.row.num))])]}}])}),r("el-table-column",{attrs:{label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",[e._v(e._s(t.row.remark))])]}}])}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status||2==t.row.status?r("el-button",{staticStyle:{"margin-top":"4px","margin-left":"10px"},attrs:{size:"mini"},on:{click:function(r){return e.orderSkuHand(t.$index,t.row,0)}}},[e._v("退菜")]):e._e(),1==t.row.status||2==t.row.status?r("el-button",{staticStyle:{"margin-top":"4px"},attrs:{size:"mini"},on:{click:function(r){return e.orderSkuHand(t.$index,t.row,3)}}},[e._v("上菜")]):e._e()]}}])})],1),r("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"ruleForm",attrs:{model:e.payForm,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"桌号"}},[r("el-tag",[e._v(e._s(e.payForm.tableId))])],1),r("el-form-item",{attrs:{label:"价格"}},[r("el-tag",{attrs:{placeholder:"价格"}},[e._v(e._s(e.payForm.price))])],1),r("el-form-item",{attrs:{label:"实收"}},[r("el-input",{attrs:{placeholder:"折扣价"},model:{value:e.payForm.realPrice,callback:function(t){e.$set(e.payForm,"realPrice",t)},expression:"payForm.realPrice"}})],1),r("el-form-item",{attrs:{label:"支付方式"}},[r("el-radio-group",{model:{value:e.payForm.payType,callback:function(t){e.$set(e.payForm,"payType",t)},expression:"payForm.payType"}},[r("el-radio",{attrs:{label:0}},[e._v("微信")]),r("el-radio",{attrs:{label:1}},[e._v("支付宝")]),r("el-radio",{attrs:{label:2}},[e._v("现金")])],1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("买单")]),r("el-button",{attrs:{type:"primary"},on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)],1)},l=[],o=r("365c"),i={data:function(){return{dialogVisible:!1,payForm:{payType:0,realPrice:0,price:0,tableId:0},orderVO:{},orderTableData:[{id:18,orderId:23,footId:11,footName:"炒娃娃菜",num:2,status:1,price:100,realPrice:0,createTime:"2019-10-25 15:10:57",updateTime:"2019-10-25 15:10:57",createBy:"1",remark:"微辣"}]}},methods:{orderSkuHand:function(e,t,r){var a=this;Object(o["a"])({orderSkuId:t.id,orderSkuState:r}).then((function(e){Object(o["i"])({orderId:t.orderId}).then((function(e){console.log(JSON.stringify(e.data)),a.orderTableData=e.data.list,0==r&&(a.orderVO=e.data)}))}))},orderAdd:function(){this.$router.push({name:"OrderAdd",params:{orderVO:this.orderVO}})},payTheBill:function(){this.dialogVisible=!0,this.payForm.tableId=this.orderVO.tableId,this.payForm.price=this.orderVO.price,this.payForm.realPrice=this.orderVO.price},onSubmit:function(){var e=this;this.dialogVisible=!1,Object(o["e"])({orderId:this.orderVO.id,payType:this.payForm.payType,realMoney:this.payForm.realPrice}).then((function(t){e.$router.push({name:"Order"})}))},cancel:function(){this.dialogVisible=!1}},created:function(){this.$route.params&&(this.orderTableData=this.$route.params.orderVO.list,this.orderVO=this.$route.params.orderVO)}},s=i,n=(r("e687"),r("2877")),u=Object(n["a"])(s,a,l,!1,null,"7f8272ca",null);t["default"]=u.exports},bbda:function(e,t,r){},e687:function(e,t,r){"use strict";var a=r("bbda"),l=r.n(a);l.a}}]);
//# sourceMappingURL=chunk-792e6569.8c8b6d3c.js.map